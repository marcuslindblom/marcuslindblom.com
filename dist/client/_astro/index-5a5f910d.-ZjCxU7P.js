import{u as M,o as g}from"./BaseLayout.astro_astro_type_script_index_1_lang.cOccZ258.js";class L extends HTMLAnchorElement{constructor(){super(),this.tabIndex=0}connectedCallback(){M(this,t=>this.render(t))}render(t){if(t){this.href=t.href;const o=this.childNodes;if(o.length===0)this.textContent=t.text;else for(const h of o)h.nodeType===Node.TEXT_NODE&&(h.nodeValue=t.text);t.target==="_blank"&&(this.target=t.target)}}}customElements.define("str-anchor",L,{extends:"a"});class y extends HTMLPictureElement{constructor(){super(),this.sources=[...this.querySelectorAll("source")],this.image=this.querySelector("img")}connectedCallback(){M(this,t=>this.render(t))}render(t){let o=!1;this.sources.forEach(h=>{h.srcset=t?.[h.dataset?.propertyMedia]?.source?.url||"",h.srcset&&(o=!0)}),o?(this.image.src=this.image.currentSrc,this.image.classList.remove("str-empty")):(this.image.src="",this.image.classList.add("str-empty"))}}customElements.define("str-picture",y,{extends:"picture"});class S extends HTMLImageElement{constructor(){super()}connectedCallback(){M(this,t=>this.render(t))}render(t){this.src=t?.source?.url||"",this.src?this.classList.remove("str-empty"):this.classList.add("str-empty")}}customElements.define("str-img",S,{extends:"img"});class N extends HTMLTimeElement{constructor(){super(),this.tabIndex=0}connectedCallback(){M(this,t=>this.render(t))}render(t){t&&(this.textContent=((o,h)=>{if(!h)return o;const s=new Date(o);if(isNaN(s))return"Invalid Date";const n=s.getFullYear(),b=String(n).slice(-2),r=String(s.getMonth()+1).padStart(2,"0"),f=new Intl.DateTimeFormat("en-US",{month:"short"}).format(s),i={yyyy:n,yy:b,MMMM:new Intl.DateTimeFormat("en-US",{month:"long"}).format(s),MMM:f,MM:r,dd:String(s.getDate()).padStart(2,"0"),d:String(s.getDate()),hh:String(s.getHours()).padStart(2,"0"),mm:String(s.getMinutes()).padStart(2,"0"),ss:String(s.getSeconds()).padStart(2,"0")},c=new RegExp(Object.keys(i).join("|"),"g");return h.replace(c,m=>i[m])})(t,this.dataset.format))}}customElements.define("str-time",N,{extends:"time"});const l=e=>{M(e,t=>{d(e,t)})},d=(e,t)=>{e.textContent=t};customElements.define("str-address",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"address"}),customElements.define("str-p",class extends HTMLParagraphElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"p"}),customElements.define("str-span",class extends HTMLSpanElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"span"}),customElements.define("str-strong",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"strong"}),customElements.define("str-h1",class extends HTMLHeadingElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"h1"}),customElements.define("str-h2",class extends HTMLHeadingElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"h2"}),customElements.define("str-h3",class extends HTMLHeadingElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"h3"}),customElements.define("str-h4",class extends HTMLHeadingElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"h4"}),customElements.define("str-h5",class extends HTMLHeadingElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"h5"}),customElements.define("str-h6",class extends HTMLHeadingElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"h6"}),customElements.define("str-abbr",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"abbr"}),customElements.define("str-b",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"b"}),customElements.define("str-button",class extends HTMLButtonElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"button"}),customElements.define("str-cite",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"cite"}),customElements.define("str-code",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"code"}),customElements.define("str-dfn",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"dfn"}),customElements.define("str-em",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"em"}),customElements.define("str-i",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"i"}),customElements.define("str-label",class extends HTMLLabelElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"label"}),customElements.define("str-mark",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"mark"}),customElements.define("str-q",class extends HTMLQuoteElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"q"}),customElements.define("str-sub",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"sub"}),customElements.define("str-sup",class extends HTMLElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"sup"}),customElements.define("str-td",class extends HTMLTableCellElement{connectedCallback(){l(this)}render(e){d(this,e)}},{extends:"td"});const x=e=>{M(e,(t,o)=>{u(e,t,o)})},u=(e,t,o)=>{q(e,t,o)},q=(e,t,o)=>{let h=e.dataset.type||null;switch(h||(h=((s,n)=>{var b=n.templates.find(c=>c.collection===n.model["@metadata"]["@collection"]);let r=s;s.includes(".")&&(r=s.split(".")[0]);const f=b?.editors.find(c=>c.editor.propertyName===r),i=f?.editor.type;if(s!==r)switch(i){case"chapters":const[c,m]=s.split(".").slice(1);n.draft||console.warn("No draft value found in context ",n);const a=n.draft[r][Number(c)];return n.templates.find(E=>E.normalizedName===a["@strife"]?.template)?.editors.find(E=>E.editor.propertyName===m)?.editor.type;case"collection":const[T,C]=s.split(".").slice(1);return n.templates.find(E=>E.collection===n.iterate["@metadata"]["@collection"])?.editors.find(E=>E.editor.propertyName===C)?.editor.type;case"content-template":const[H]=s.split(".").slice(1);return n.templates.find(E=>E.normalizedName===f.editor.attributes.templateId)?.editors.find(E=>E.editor.propertyName===H)?.editor.type}return i})(e.dataset.field,o)),e.innerHTML="",h){case"collection":((s,n,b)=>{n.documents&&n.documents.forEach((r,f)=>{const i=s.dataset.field.lastIndexOf("."),c=s.dataset.field.substring(i+1);let m=document.getElementById(`collection_${c}`).content;s.appendChild(m.cloneNode(!0)),s.querySelectorAll(`[is^="str-"]:not([data-field^="${s.dataset.field}."])`).forEach(a=>{const p=a.dataset.field;a.dataset.field=`${s.dataset.field}.${f}.${p}`,a.render(g(p,r),{...b,iterate:r})})})})(e,t,o);break;case"chapters":((s,n,b)=>{n&&n.forEach((r,f)=>{let i=document.getElementById(r["@strife"].template).content.cloneNode(!0);i.querySelectorAll("*").forEach(c=>{[...c.attributes].forEach(m=>{if(m.name.startsWith("data-prop-")){const a=m.name.replace("data-prop-",""),p=g(a,r);p&&c.setAttribute(m.name,p)}})}),s.appendChild(i),s.querySelectorAll(`[is^="str-"]:not([data-field^="${s.dataset.field}."])`).forEach((c,m)=>{const a=c.dataset.field;c.dataset.field=`${s.dataset.field}.${f}.${a}`,c.render(g(a,r),b)})})})(e,t,o);break;case"html":e.innerHTML=t;break;case"text":e.textContent=t;break;case"multi-input":((s,n,b)=>{const r=s.dataset.field.lastIndexOf("."),f=s.dataset.field.substring(r+1);n&&Array.isArray(n)&&n.forEach((i,c)=>{let m=document.getElementById(`multiinput_${f}`);if(m){let a=m.content;a.querySelector("[data-value]").textContent=i,s.appendChild(a.cloneNode(!0))}})})(e,t);break;case"assets":((s,n,b)=>{const r=s.dataset.field.lastIndexOf("."),f=s.dataset.field.substring(r+1);n&&Array.isArray(n)&&n.forEach((i,c)=>{let m=document.getElementById(`assets_${f}`);if(m){let a=m.content;const p=a.querySelector("[data-name]");p&&(p.textContent=i.name);const k=a.querySelector("[data-original]");k&&(k.textContent=i.original);const T=a.querySelector("[data-thumbnail]");T&&(T.textContent=i.thumbnail);const C=a.querySelector("[data-size]");C&&(C.textContent=i.size),s.appendChild(a.cloneNode(!0))}})})(e,t);break;default:e.innerHTML=`<p>Unsupported container type: ${h} for ${e.tagName}</p>`}};customElements.define("str-div",class extends HTMLDivElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"div"}),customElements.define("str-ul",class extends HTMLUListElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"ul"}),customElements.define("str-ol",class extends HTMLOListElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"ol"}),customElements.define("str-section",class extends HTMLElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"section"}),customElements.define("str-header",class extends HTMLElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"header"}),customElements.define("str-footer",class extends HTMLElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"footer"}),customElements.define("str-nav",class extends HTMLElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"nav"}),customElements.define("str-article",class extends HTMLElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"article"}),customElements.define("str-main",class extends HTMLElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"main"}),customElements.define("str-aside",class extends HTMLElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"aside"}),customElements.define("str-blockquote",class extends HTMLElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"blockquote"}),customElements.define("str-tbody",class extends HTMLTableSectionElement{connectedCallback(){x(this)}render(e,t){u(this,e,t)}},{extends:"tbody"});
